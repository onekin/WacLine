<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" type="text/css" href="../styles/options.css">

  <title>Configuration</title>
  <!-- Google Analytics -->
  <script src="../scripts/ga.js"></script>
  <!-- End Google Analytics -->
</head>
<body>
<div class="container">
  <!-- Header -->
  <header></header>

  <!-- Navigation bar -->

  <!-- Container -->
  <div id="main-container" class="container">

    <div class="jumbotron">
      <img class="logo" src="../images/PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appShortName'))/icon-38.png">
      <h2 class="title">PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appName')) configuration</h2>
      // PVSCL:IFCOND(MoodleProvider,LINE)
      <div class="card" aria-hidden="true">
        <div class="card-header bg-dark text-white">Feedback</div>
        <div class="card-body">
          <div class="form-check">
            <input disabled="disabled" type="checkbox" class="form-check-input" id="feedbackURLAndContext" checked="checked">
            <label for="feedbackURLAndContext" class="form-check-label">Send feedback with url and context</label> <img src="./../images/warning.png" width="32" title="This option is not working yet">
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
      // PVSCL:IFCOND(MoodleProvider,LINE)
      <div class="card">
        <div class="card-header bg-dark text-white">Moodle</div>
        <div class="card-body">
          <div class="form-group" aria-hidden="true">
            <label for="moodleEndpoint">Moodle custom API endpoint</label><img src="./../images/warning.png" width="32" title="This option is not working yet">
            <input disabled="disabled" type="url" class="form-control" id="moodleEndpoint" placeholder="Enter custom moodle API endpoint">
          </div>
          <div class="form-check">
            <label for="moodleApiToken">Please set your personal token: </label>
            <input type="text" class="form-control" id="moodleApiToken">
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="apiSimulationCheckbox">
            <label for="apiSimulationCheckbox" class="form-check-label">Use scraping instead of moodle API</label>
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="autoOpenCheckbox">
            <label for="autoOpenCheckbox" class="form-check-label">Automatically open downloaded files from students assignments in the LMS</label>
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="moodleUpdateNotificationCheckbox" checked="checked">
            <label for="moodleUpdateNotificationCheckbox" class="form-check-label">Display "moodle is updated notification" while grading students assignments</label>
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="moodleUploadAnnotatedFilesCheckbox">
            <label for="moodleUploadAnnotatedFilesCheckbox" class="form-check-label">Automatically upload annotated files to moodle as feedback files. You need to enable <a href="https://github.com/onekin/WacLine/wiki/User-manual-for-Mark&Go-Teachers-guide#automatic-annotated-file-submission-to-moodle-feedback">feedback files</a> in assignment.</label>
            <img src="./../images/warning.png" width="32" title="This option is in alpha state, only work with plain-text-like files and can have some bugs or may work unexpectedly">
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
      // PVSCL:IFCOND(AnnotationServer->pv:SelectedChildren('ps:annotationServer')->pv:Size()>1,LINE)
      <div class="card">
        <div class="card-header bg-dark text-white">Annotation server</div>
        <div class="card-body">
          <div class="form-check">
            <label for="annotationServerDropdown">Select where your annotations will be stored</label>
            <select class="form-select" id="annotationServerDropdown">
              PVSCL:EVAL(AnnotationServer->pv:SelectedChildren('ps:annotationServer')->pv:Iterate(as;r=''|r+printOptionRow(as) + '\n'))
            </select>
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
      // PVSCL:IFCOND(BrowserStorage,LINE)
      <div id="browserstorageConfigurationCard" class="card annotationServerConfiguration">
        <div class="card-header bg-dark text-white">Browser storage</div>
        <div class="card-body">
          <div class="form-check">
            <button class="btn btn-secondary" id="viewAnnotationsButton">View annotations</button>
            <button class="btn btn-secondary" id="restoreDatabaseButton">Restore database</button>
            <button class="btn btn-secondary" id="backupDatabaseButton">Backup database</button>
            <button class="btn btn-secondary" id="deleteDatabaseButton">Delete database</button>
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
      // PVSCL:IFCOND(Hypothesis, LINE)
      <!-- Hypothesis login -->
      <div id="hypothesisConfigurationCard" class="card annotationServerConfiguration">
        <div class="card-header bg-dark text-white">Hypothesis</div>
        <div class="card-body">
          <div id="hypothesisLoginContainer" class="configurationSectionContainer">
            <button class="btn btn-secondary" id="hypothesisLogin">Log in</button>
          </div>
          <div id="hypothesisLoggedInContainer" class="configurationSectionContainer">
            Logged in as <span id="hypothesisLoggedInUsername" class="clickableInfoSpan">Unknown user</span>
            <button class="btn btn-secondary" id="hypothesisLogout">Log out</button>
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
      // PVSCL:IFCOND(Neo4J, LINE)
      <div id="neo4jConfigurationCard" class="card annotationServerConfiguration">
        <a id="neo4jConfiguration"></a>
        <div class="card-header bg-dark text-white">Neo4J configuration</div>
        <div class="card-body">
          <div class="form-group">
            <label for="neo4jEndpoint" class="requiredFormInput">Endpoint URL</label>
            <input type="url" class="form-control" id="neo4jEndpoint" placeholder="Enter your neo4j endpoint">
          </div>
          <div class="form-group">
            <label for="neo4jToken" class="requiredFormInput">Token</label>
            <input type="text" class="form-control" id="neo4jToken" placeholder="Enter your neo4j token">
          </div>
          <div class="form-group">
            <label for="neo4jUser">User</label>
            <input type="text" class="form-control" id="neo4jUser" placeholder="Enter your username or orcid">
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
      // PVSCL:IFCOND(GoogleTagManager, LINE)
      <div class="card">
        <div class="card-header bg-dark text-white">Tracking</div>
        <div class="card-body">
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="googleTagManagerConsent" checked="checked">
            <label for="googleTagManagerConsent" class="form-check-label">I consent this extension to collect anonymous tracking data to improve user experience and for research purposes. Learn about our tracking policy <a href="PVSCL:EVAL(WebAnnotator.Tracking->pv:Attribute('trackingPoliciesURL'))" target="_blank">here</a>.</label>
          </div>
        </div>
      </div>
      // PVSCL:ENDCOND
    </div>
    <div id="contactRow" class="row row-cols-3">
      <div class="col">
        <div class="card">
          <img src="../images/chromeStore.png" class="card-img-top cardImage" alt="Rate us in Chrome Store">
          <div class="card-body">
            <h5 class="card-title">Rate us!</h5>
            <p class="card-text">If you like the application you can rate us and give your opinion!</p>
            <a target="_blank"  id="chromeStoreLink" class="btn btn-primary">Chrome Store</a>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <img src="../images/manual.png" class="card-img-top cardImage" alt="Check the user manual">
          <div class="card-body">
            <h5 class="card-title">User manual</h5>
            <p class="card-text">Visit whenever you want the user manual for further information or contact us!</p>
            <a target="_blank" href="PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('userManualUrl'))" class="btn btn-primary">User manual</a>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <img src="../images/github.png" class="card-img-top cardImage" alt="Contact us via github">
          <div class="card-body">
            <h5 class="card-title">Contact us!</h5>
            <p class="card-text">Contact us if you have suggestions to improve, problems, etc.</p>
            <a target="_blank" href="https://github.com/onekin/WebAnnotatorSPL/issues/new?title=Bug+$errorMessage$&body=%23+How+to+reproduce%0AWrite+here+any+information+related+to+the+error+found%0A%23+Trace%0A%60Product:PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appShortName'))%0AVersion:PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appVersion'))%60" class="btn btn-primary">Github</a>
            <a target="_blank" href="mailto:haritz.medina@ehu.eus?subject=Feedback%20for%20PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appShortName'))&body=Hi%2C%0D%0A%0D%0A%3Cinsert_your_text%3E%0D%0A%0D%0ABest%20regards%2C%0D%0A%0D%0A---%0D%0AProduct%3A%20PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appShortName'))%0D%0AVersion%3A%20PVSCL:EVAL(WebAnnotator.WebAnnotationClient->pv:Attribute('appVersion'))" class="btn btn-primary">Email</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="../scripts/options.js"></script>
</body>
</html>
